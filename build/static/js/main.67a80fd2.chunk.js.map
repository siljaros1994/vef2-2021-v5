{"version":3,"sources":["components/layout/Layout.jsx","components/news/News.jsx","components/news-list/NewsList.jsx","pages/Index.jsx","pages/News.jsx","pages/NotFound.jsx","App.js","index.js"],"names":["Layout","children","className","s","layout","layout_main","href","News","category","quantity","expandable","useState","loading","setLoading","error","setError","data","setData","setRedirect","apiUrl","process","REACT_APP_API_URL","useEffect","a","fetch","result","ok","status","Error","json","fetchData","nextPath","Innlent","Íþróttir","Menning","title","headline","items","slice","news","news_list","map","item","news_item","news_link","link","news__routeref","to","pathname","NewsList","newslist","Array","from","console","log","newslist_news1","newslist_news2","id","Index","NewsPage","useParams","this","NotFound","notfound","notfound_title","notfound_text","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.67a80fd2.chunk.js","sourcesContent":["import React from 'react';\nimport s from './Layout.scss';\n\n// TODO sækja Sass\n\nexport function Layout({children}) {\n  // TODO setja upp layout fyrir vef\n  return (\n    <div className={s.layout}>\n      <h1>RÚV fréttir</h1>\n      <main className={s.layout_main}>{children}</main>\n      <footer>\n        <p>Fréttir frá</p><a href=\"http://www.ruv.is\">RÚV</a>\n      </footer>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from \"prop-types\";\nimport fetch from 'node-fetch';\nimport { Link } from 'react-router-dom';\nimport s from './News.scss';\n\nNews.propTypes = {\n  category: PropTypes.string.isRequired,\n  quantity: PropTypes.number,\n  expandable: PropTypes.bool,\n};\n\nexport function News({ category, quantity, expandable }) {\n  // TODO sækja fréttir fyrir flokk\n  const routes = {\n    \"Allar fréttir\": \"allar\",\n    Innlent: \"innlent\",\n    \"Erlendar fréttir\": \"erlent\",\n    Íþróttir: \"íþróttir\",\n    Menning: \"menning\",\n  };\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [data, setData] = useState(null);\n  const [ ,setRedirect] = useState(false);\n  const apiUrl = process.env.REACT_APP_API_URL;\n\n  useEffect(() => {\n    async function fetchData() {\n      setLoading(true);\n      setError(null);\n      let json;\n      try {\n        const result = await fetch(`${apiUrl}${category}`);\n        if (!result.ok) {\n          if (result.status === 404) {\n            setError('404');\n            setRedirect(true);\n            return;\n          }\n          throw new Error('Ekki tókst að sækja gögn');\n        }\n        json = await result.json();\n      } catch (e) {\n        setError('Gat ekki sótt gögn.');\n        return;\n      } finally {\n        setLoading(false);\n      }\n      setData(json);\n    }\n    fetchData();\n    }, [apiUrl, category]);\n    \n    if (error) {\n      return (<div>Villa kom upp!</div>);\n    }\n\n    if (loading) {\n      return (<div>Hleð inn gögn...</div>);\n    }\n\n    if (data) {\n      const nextPath = expandable ? `/${routes[data.title]}` : \"/\";\n      let headline = data.items;\n      if (quantity) {\n        headline = headline.slice(0, quantity);\n      }\n  \n      return (\n        <div className={s.news}>\n          <h2>{data.title}</h2>\n          <ul className={s.news_list}>\n            {headline.map((item) => {\n              return (\n                <li className={s.news_item}><a className={s.news_link} href={item.link}>{item.title}</a></li>\n              );\n            })}\n          </ul>\n            <Link\n              className={s.news__routeref} to={{\n                pathname: nextPath,\n              }}\n            >\n              {expandable ? \"Allar fréttir\" : \"Til baka\"}\n            </Link>\n        </div>\n      );\n    }\n\n  return (\n    <div>\n      <h2>Villa kom upp!</h2>\n      <p>Gat ekki sótt gögn.</p>\n    </div>\n  );\n}","import React, { useEffect, useState } from 'react';\nimport { News } from \"../news/News\";\nimport fetch from 'node-fetch';\nimport s from \"./NewsList.scss\";\n\nconst apiUrl = process.env.REACT_APP_API_URL;\n\nexport function NewsList() {\n  // TODO sækja yfirlit fréttaflokka\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [data, setData] = useState(false);\n\n  useEffect(() => {\n    async function fetchData() {\n      setLoading(true);\n      setError(null);\n      let json;\n        try {\n          const result = await fetch(apiUrl);\n        \n          if(!result.ok) {\n            throw new Error('Ekki tókst að sækja gögn');\n          }\n    \n          json = await result.json();\n        } catch (e) {\n          setError('Gat ekki sótt gögn');\n        } finally {\n          setLoading(false);\n        }\n\n        setData(json); \n      }\n      fetchData();\n  }, []);\n\n  if (error) {\n    return (<div>Villa kom upp! {error}</div>);\n  }\n\n  if (loading) {\n    return (<div>Hleð inn gögn...</div>);\n  }\n\n  const newslist = Array.from(data);\n  console.log(newslist);\n\n  return (\n    <div className={s.newslist_news1}>\n      {newslist.map((item) => {\n        return (\n          <div className={s.newslist_news2}>\n            <News category={item.id} quantity={5} expandable={true} />\n          </div>\n        )\n      })}\n    </div>\n  );\n}\n","import React from 'react';\nimport { NewsList } from '../components/news-list/NewsList'\n\nexport function Index() {\n  // TODO útfæra yfirlitssíðu\n  return (\n    <div>\n      <NewsList></NewsList>\n    </div>\n  );\n}\n","import React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { News } from '../components/news/News';\n\nexport function NewsPage() {\n  // TODO útfæra fréttasíðu\n  let id = useParams();\n  this.fetchData(id);\n  return (\n    <News category={id}/>\n  );\n}","import React from \"react\";\nimport {Link} from 'react-router-dom'\nimport s from './NotFound.scss';\n\nexport function NotFound() {\n  // TODO útfæra 404 síðu\n  return (\n    <div className={s.notfound}>\n      <h1 className={s.notfound_title}>404: error</h1>\n      <h2 className={s.notfound_text}>Síða fannst ekki</h2>\n      <Link to=\"/\">Til baka á forsíðu</Link>\n    </div>\n  );\n}\n","// TODO sækja og setja upp react router\nimport React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { Layout } from \"./components/layout/Layout\";\nimport { Index } from \"./pages/Index\";\nimport { NewsPage } from \"./pages/News\";\nimport { NotFound } from \"./pages/NotFound\";\n\nexport default function App() {\n  return (\n    <Layout>\n       <div className=\"App\">\n        <section>\n          <Switch>\n            <Route exact path=\"/\" component={Index} />\n            <Route exact path=\"/:id\" component={NewsPage} />\n            <Route component={NotFound}/>\n          </Switch>\n        </section>\n      </div>\n    </Layout>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport App from './App';\n\nimport './index.css';\n\n// TODO setja upp router\n\nReactDOM.render(\n  <React.StrictMode>\n     <BrowserRouter>\n\n      <App />\n\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}